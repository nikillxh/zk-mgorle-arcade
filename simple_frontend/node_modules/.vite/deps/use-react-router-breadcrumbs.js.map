{
  "version": 3,
  "sources": ["../../use-react-router-breadcrumbs/dist/es/index.js"],
  "sourcesContent": ["import React, { createElement } from 'react';\nimport { useLocation, Route, matchPath } from 'react-router-dom';\n\nvar joinPaths = function joinPaths(paths) {\n  return paths.join('/').replace(/\\/\\/+/g, '/');\n};\n\nvar paramRe = /^:\\w+$/;\nvar dynamicSegmentValue = 3;\nvar indexRouteValue = 2;\nvar emptySegmentValue = 1;\nvar staticSegmentValue = 10;\nvar splatPenalty = -2;\n\nvar isSplat = function isSplat(s) {\n  return s === '*';\n};\n\nfunction computeScore(path, index) {\n  var segments = path.split('/');\n  var initialScore = segments.length;\n\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments.filter(function (s) {\n    return !isSplat(s);\n  }).reduce(function (score, segment) {\n    if (paramRe.test(segment)) {\n      return score + dynamicSegmentValue;\n    }\n\n    if (segment === '') {\n      return score + emptySegmentValue;\n    }\n\n    return score + staticSegmentValue;\n  }, initialScore);\n}\n\nfunction compareIndexes(a, b) {\n  var siblings = a.length === b.length && a.slice(0, -1).every(function (n, i) {\n    return n === b[i];\n  });\n  return siblings ? a[a.length - 1] - b[b.length - 1] : 0;\n}\n\nfunction flattenRoutes(routes) {\n  var branches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var parentsMeta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var parentPath = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  routes.forEach(function (route, index) {\n    var _a;\n\n    if (typeof route.path !== 'string' && !route.index && !((_a = route.children) === null || _a === void 0 ? void 0 : _a.length)) {\n      throw new Error('useBreadcrumbs: `path` or `index` must be provided in every route object');\n    }\n\n    if (route.path && route.index) {\n      throw new Error('useBreadcrumbs: `path` and `index` cannot be provided at the same time');\n    }\n\n    var meta = {\n      relativePath: route.path || '',\n      childrenIndex: index,\n      route: route\n    };\n\n    if (meta.relativePath.charAt(0) === '/') {\n      if (!meta.relativePath.startsWith(parentPath)) {\n        throw new Error('useBreadcrumbs: The absolute path of the child route must start with the parent path');\n      }\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    var path = joinPaths([parentPath, meta.relativePath]);\n    var routesMeta = parentsMeta.concat(meta);\n\n    if (route.children && route.children.length > 0) {\n      if (route.index) {\n        throw new Error('useBreadcrumbs: Index route cannot have child routes');\n      }\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    branches.push({\n      path: path,\n      score: computeScore(path, route.index),\n      routesMeta: routesMeta\n    });\n  });\n  return branches;\n}\n\nfunction rankRouteBranches(branches) {\n  return branches.sort(function (a, b) {\n    return a.score !== b.score ? b.score - a.score : compareIndexes(a.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }), b.routesMeta.map(function (meta) {\n      return meta.childrenIndex;\n    }));\n  });\n}\n\nvar NO_BREADCRUMB = Symbol('NO_BREADCRUMB');\nvar humanize = function humanize(str) {\n  return str.replace(/^[\\s_]+|[\\s_]+$/g, '').replace(/[-_\\s]+/g, ' ').replace(/^[a-z]/, function (m) {\n    return m.toUpperCase();\n  });\n};\n\nvar render = function render(_ref) {\n  var Breadcrumb = _ref.breadcrumb,\n      match = _ref.match,\n      location = _ref.location,\n      props = _ref.props;\n  var componentProps = Object.assign({\n    match: match,\n    location: location,\n    key: match.pathname\n  }, props || {});\n  return Object.assign(Object.assign({}, componentProps), {\n    breadcrumb: typeof Breadcrumb === 'string' ? /*#__PURE__*/createElement('span', {\n      key: componentProps.key\n    }, Breadcrumb) : /*#__PURE__*/React.createElement(Breadcrumb, Object.assign({}, componentProps))\n  });\n};\n\nvar getDefaultBreadcrumb = function getDefaultBreadcrumb(_ref2) {\n  var currentSection = _ref2.currentSection,\n      location = _ref2.location,\n      pathSection = _ref2.pathSection,\n      defaultFormatter = _ref2.defaultFormatter;\n  var match = matchPath({\n    end: true,\n    path: pathSection\n  }, pathSection);\n  return render({\n    breadcrumb: defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection),\n    match: match,\n    location: location\n  });\n};\n\nvar getBreadcrumbMatch = function getBreadcrumbMatch(_ref3) {\n  var currentSection = _ref3.currentSection,\n      disableDefaults = _ref3.disableDefaults,\n      excludePaths = _ref3.excludePaths,\n      defaultFormatter = _ref3.defaultFormatter,\n      location = _ref3.location,\n      pathSection = _ref3.pathSection,\n      branches = _ref3.branches;\n  var breadcrumb;\n\n  var getIsPathExcluded = function getIsPathExcluded(path) {\n    return matchPath({\n      path: path,\n      end: true\n    }, pathSection) != null;\n  };\n\n  if (excludePaths && excludePaths.some(getIsPathExcluded)) {\n    return NO_BREADCRUMB;\n  }\n\n  branches.some(function (_ref4) {\n    var path = _ref4.path,\n        routesMeta = _ref4.routesMeta;\n    var route = routesMeta[routesMeta.length - 1].route;\n    var userProvidedBreadcrumb = route.breadcrumb;\n\n    if (!userProvidedBreadcrumb && route.index) {\n      var parentMeta = routesMeta[routesMeta.length - 2];\n\n      if (parentMeta && parentMeta.route.breadcrumb) {\n        userProvidedBreadcrumb = parentMeta.route.breadcrumb;\n      }\n    }\n\n    var caseSensitive = route.caseSensitive,\n        props = route.props;\n    var match = matchPath({\n      path: path,\n      end: true,\n      caseSensitive: caseSensitive\n    }, pathSection);\n\n    if (match && userProvidedBreadcrumb === null) {\n      breadcrumb = NO_BREADCRUMB;\n      return true;\n    }\n\n    if (match) {\n      if (!userProvidedBreadcrumb && disableDefaults) {\n        breadcrumb = NO_BREADCRUMB;\n        return true;\n      }\n\n      breadcrumb = render({\n        breadcrumb: userProvidedBreadcrumb || (defaultFormatter ? defaultFormatter(currentSection) : humanize(currentSection)),\n        match: Object.assign(Object.assign({}, match), {\n          route: route\n        }),\n        location: location,\n        props: props\n      });\n      return true;\n    }\n\n    return false;\n  });\n\n  if (breadcrumb) {\n    return breadcrumb;\n  }\n\n  if (disableDefaults) {\n    return NO_BREADCRUMB;\n  }\n\n  return getDefaultBreadcrumb({\n    pathSection: pathSection,\n    currentSection: pathSection === '/' ? 'Home' : currentSection,\n    location: location,\n    defaultFormatter: defaultFormatter\n  });\n};\n\nvar getBreadcrumbs = function getBreadcrumbs(_ref5) {\n  var routes = _ref5.routes,\n      location = _ref5.location,\n      _ref5$options = _ref5.options,\n      options = _ref5$options === void 0 ? {} : _ref5$options;\n  var pathname = location.pathname;\n  var branches = rankRouteBranches(flattenRoutes(routes));\n  var breadcrumbs = [];\n  pathname.split('?')[0].split('/').reduce(function (previousSection, currentSection, index) {\n    var pathSection = !currentSection ? '/' : \"\".concat(previousSection, \"/\").concat(currentSection);\n\n    if (pathSection === '/' && index !== 0) {\n      return '';\n    }\n\n    var breadcrumb = getBreadcrumbMatch(Object.assign({\n      currentSection: currentSection,\n      location: location,\n      pathSection: pathSection,\n      branches: branches\n    }, options));\n\n    if (breadcrumb !== NO_BREADCRUMB) {\n      breadcrumbs.push(breadcrumb);\n    }\n\n    return pathSection === '/' ? '' : pathSection;\n  }, '');\n  return breadcrumbs;\n};\n\nvar useReactRouterBreadcrumbs = function useReactRouterBreadcrumbs(routes, options) {\n  return getBreadcrumbs({\n    routes: routes || [],\n    location: useLocation(),\n    options: options\n  });\n};\n\nfunction invariant(cond, message) {\n  if (!cond) throw new Error(message);\n}\n\nfunction createRoutesFromChildren(children) {\n  var routes = [];\n  React.Children.forEach(children, function (element) {\n    if (! /*#__PURE__*/React.isValidElement(element)) {\n      return;\n    }\n\n    if (element.type === React.Fragment) {\n      routes.push.apply(routes, createRoutesFromChildren(element.props.children));\n      return;\n    }\n\n    invariant(element.type === Route, \"[\".concat(typeof element.type === 'string' ? element.type : element.type.name, \"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>\"));\n    var route = {\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      index: element.props.index,\n      path: element.props.path,\n      breadcrumb: element.props.breadcrumb\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(element.props.children);\n    }\n\n    routes.push(route);\n  });\n  return routes;\n}\nvar BreadCrumbRoute = Route;\n\nexport { BreadCrumbRoute as Route, createRoutesFromChildren, useReactRouterBreadcrumbs as default, getBreadcrumbs, humanize };\n"],
  "mappings": "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",
  "names": ["joinPaths", "isSplat", "humanize", "render", "React", "getDefaultBreadcrumb", "getBreadcrumbMatch", "getIsPathExcluded", "getBreadcrumbs", "useReactRouterBreadcrumbs"]
}
